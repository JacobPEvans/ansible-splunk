---
- name: Validate required variables
  ansible.builtin.assert:
    that:
      - splunk_admin_password is defined
      - splunk_hec_token is defined
    fail_msg: "splunk_admin_password and splunk_hec_token are required"

- name: Include install tasks
  ansible.builtin.include_tasks: install.yml

- name: Include configure tasks
  ansible.builtin.include_tasks: configure.yml

- name: Include index configuration tasks
  ansible.builtin.include_tasks: indexes.yml

- name: Include input configuration tasks
  ansible.builtin.include_tasks: inputs.yml
